<!--
  Generated template for the ReservasPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
    <ion-navbar color="primary">
        <button ion-button menuToggle>
            <ion-icon name="menu"></ion-icon>
        </button>
        <ion-title>Reservas</ion-title>
         <ion-buttons end>
            <button ion-button icon-only (click)="refresh()">
                    <ion-icon ios="ios-refresh" md="md-refresh"></ion-icon>
            </button>
             <button *ngIf="add" ion-button icon-only (click)="addEvent()">
                    <ion-icon name="add"></ion-icon>
            </button>
        </ion-buttons>
    </ion-navbar>   
</ion-header>


<ion-content padding>

    <ion-searchbar
      showCancelButton="true"
      (ionInput)="getItems($event)"
      (ionCancel)="onCancel($event)">          
    </ion-searchbar>

    <div *ngIf="cargar" style="text-align: center">    
        <ion-spinner name="circles"></ion-spinner><br>
        <b>Cargando...</b>
	</div>

	<ion-grid *ngFor="let reserva of items; let i = index" >                 
        
        <ion-row align-items-center>  
            <ion-col col-6 (click)="abrir_reserva(reserva)">
                <b>{{reserva.name}}</b>
            </ion-col>
            <ion-col col-4 (click)="abrir_reserva(reserva)">
                {{reserva.fecha_padre}}         
            </ion-col>  
            <ion-col col-2>
            	<button ion-button small color="danger" type="button" (click)="borrarReserva(reserva.id)" ><ion-icon name="ios-trash" ></ion-icon></button>                
            </ion-col>       
        </ion-row>      
        <ion-row align-items-center class="borde">  
            <ion-col col-6>
                <b>{{reserva.cliente_nombre}}</b>
            </ion-col>
            <ion-col col-4>
                {{reserva.representante_nombre}}         
            </ion-col>  

            
        </ion-row>    
        
    </ion-grid>

     <ion-infinite-scroll (ionInfinite)="doInfinite($event)">
        <ion-infinite-scroll-content
          loadingSpinner="bubbles"
          loadingText="Cargando...">
        </ion-infinite-scroll-content>
    </ion-infinite-scroll>
</ion-content>